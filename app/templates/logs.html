{% extends "base.html" %}
{% block title %}Logs â€“ ChronoCam{% endblock %}
{% block content %}
  <h2>ðŸªµ Log-Ansicht</h2>
  <div class="card bg-dark text-light mt-3">
    <div class="card-body" id="log-box" style="font-family: monospace; white-space: pre-line; max-height: 60vh; overflow-y: auto;">
      {% for line in logs %}
        {{ line }}<br>
      {% endfor %}
    </div>
  </div>

  <script>
    // Auto-Reload alle 5 Sekunden
    setInterval(async () => {
      const res = await fetch('/logs');
      const html = await res.text();
      const parser = new DOMParser();
      const doc = parser.parseFromString(html, 'text/html');
      document.getElementById('log-box').innerHTML = doc.querySelector('#log-box').innerHTML;
    }, 5000);
  </script>
{% endblock %}
